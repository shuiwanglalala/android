# this 关键字

+ 涵义
  + 简单说，this就是属性或方法“当前”所在的对象
  + JavaScript 语言之中，一切皆对象，运行环境也是对象，所以函数都是在某个对象之中运行，this就是函数运行时所在的对象（环境）。这本来并不会让用户糊涂，但是 JavaScript 支持运行环境动态切换，也就是说，this的指向是动态的，没有办法事先确定到底指向哪个对象
+ 实质
+ 使用场合
  + 全局环境使用this，它指的就是顶层对象window
  + 构造函数中的this，指的是实例对象
  + 如果对象的方法里面包含this，this的指向就是方法运行时所在的对象。该方法赋值给另一个对象，就会改变this的指向
+ 使用注意点
  + 避免多层 this
    + 由于this的指向是不确定的，所以切勿在函数中包含多层的this
    + 事实上，使用一个变量固定this的值，然后内层函数调用这个变量，是非常常见的做法，请务必掌握
    + JavaScript 提供了严格模式，也可以硬性避免这种问题。严格模式下，如果函数内部的this指向顶层对象，就会报错
  + 避免数组处理方法中的 this
    + 数组的map和foreach方法，允许提供一个函数作为参数。这个函数内部不应该使用this
      + 解决这个问题的一种方法，就是前面提到的，使用中间变量固定this
      + 另一种方法是将this当作foreach方法的第二个参数，固定它的运行环境
  + 避免回调函数中的 this
+ 绑定 this 的方法
  + Function.prototype.call()
    + 函数实例的call方法，可以指定函数内部this的指向（即函数执行时所在的作用域），然后在所指定的作用域中，调用该函数
      + call方法的参数，应该是一个对象。如果参数为空、null和undefined，则默认传入全局对象
      + 如果call方法的参数是一个原始值，那么这个原始值会自动转成对应的包装对象，然后传入call方法
    + call的第一个参数就是this所要指向的那个对象，后面的参数则是函数调用时所需的参数
    + call方法的一个应用是调用对象的原生方法
  + Function.prototype.apply()
    + apply方法的作用与call方法类似，也是改变this指向，然后再调用该函数。唯一的区别就是，它接收一个数组作为函数执行时的参数
  + Function.prototype.bind()