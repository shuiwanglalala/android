# 从共享存储空间访问文档和其他文件

## 在所选位置执行操作

### 确定提供器支持的操作

### 保留权限

当您的应用打开文件进行读取或写入时，系统会向应用授予对该文件的 URI 的访问权限，该授权在用户重启设备之前一直有效。但是，假设您的应用是图片编辑应用，而且您希望用户能够直接从应用中访问他们最近修改的 5 张图片，那么在用户重启设备后，您就必须让用户返回到系统选择器来查找这些文件

如需在设备重启后保留对文件的访问权限并提供更出色的用户体验，您的应用可以“获取”系统提供的永久性 URI 访问权限

**注意**：如果关联的文档被移动或删除，即使调用了 `takePersistableUriPermission()`，您的应用也无法保留对该 URI 的访问权限。在此类情况下，您需要再次请求权限才能重新获得对该 URI 的访问权限

### 检查文档元数据

### 打开文档





https://github.com/android/storage-samples/tree/master/ActionOpenDocument

PdfRenderer

https://github.com/android/storage-samples/tree/master/ActionOpenDocumentTree

结合例子才能看懂文档

https://github.com/android/storage-samples/tree/main/SafDemos

使用ACTION_GET_CONTENT挑选照片，demo很简单

