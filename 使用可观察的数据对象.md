# 使用可观察的数据对象

可观察类有三种不同类型：[对象](https://developer.android.com/topic/libraries/data-binding/observability#observable_objects)、[字段](https://developer.android.com/topic/libraries/data-binding/observability#observable_fields)和[集合](https://developer.android.com/topic/libraries/data-binding/observability#observable_collections)

## 可观察字段

在创建实现 [`Observable`](https://developer.android.com/reference/android/databinding/Observable) 接口的类时要完成一些操作，但如果您的类只有少数几个属性，这样操作的意义不大。在这种情况下，您可以使用通用 [`Observable`](https://developer.android.com/reference/android/databinding/Observable) 类和以下特定于基元的类，将字段设为可观察字段

### 可观察集合

某些应用使用动态结构来保存数据。可观察集合允许使用键访问这些结构。当键为引用类型（如 `String`）时，[`ObservableArrayMap`](https://developer.android.com/reference/android/databinding/ObservableArrayMap) 类非常有用

## 可观察对象

实现 [`Observable`](https://developer.android.com/reference/android/databinding/Observable) 接口的类允许注册监听器，以便它们接收有关可观察对象的属性更改的通知

[`Observable`](https://developer.android.com/reference/android/databinding/Observable) 接口具有添加和移除监听器的机制，但何时发送通知必须由您决定。为便于开发，数据绑定库提供了用于实现监听器注册机制的 [`BaseObservable`](https://developer.android.com/reference/android/databinding/BaseObservable) 类。实现 `BaseObservable` 的数据类负责在属性更改时发出通知。具体操作过程是向 getter 分配 [`Bindable`](https://developer.android.com/reference/android/databinding/Bindable) 注释，然后在 setter 中调用 [`notifyPropertyChanged()`](https://developer.android.com/reference/android/databinding/BaseObservable#notifypropertychanged) 方法

如果数据类的基类无法更改，[`Observable`](https://developer.android.com/reference/android/databinding/Observable) 接口可以使用 [`PropertyChangeRegistry`](https://developer.android.com/reference/android/databinding/PropertyChangeRegistry) 对象实现，以便有效地注册和通知监听器