# 保存状态

[ViewModel：持久性、onSaveInstanceState()、恢复界面状态和加载器](https://medium.com/androiddevelopers/viewmodels-persistence-onsaveinstancestate-restoring-ui-state-and-loaders-fc7cc4a6c090)

## 用于保留界面状态的选项

三类存储的对比表格

## 使用 ViewModel 处理配置更改

已保存实例状态捆绑包在配置更改和进程终止后都会保留，但受限于存储容量和速度

与已保存实例状态不同，ViewModel 在系统发起的进程终止过程中会被销毁。因此，您应将 ViewModel 对象与 `onSaveInstanceState()`（或其他一些磁盘持久性功能）结合使用，并将标识符存储在 `savedInstanceState` 中，以帮助视图模型在系统终止后重新加载数据

此外，如果您从 intent 打开 Activity，当配置发生更改以及系统恢复该 Activity 时，会将 extra 捆绑包传送给该 Activity。在 Activity 启动时，如果一段界面状态数据（例如搜索查询）作为 intent extra 传入，则您可以使用 extra 捆绑包而不是 `onSaveInstanceState()` 捆绑包（**第一次了解这个知识点**）