# 实例对象与 new 命令

+ 对象是什么
+ 构造函数
  + JavaScript 语言的对象体系，不是基于“类”的，而是基于构造函数（constructor）和原型链（prototype）
  + JavaScript 语言使用构造函数（constructor）作为对象的模板。所谓”构造函数”，就是专门用来生成实例对象的函数。它就是对象的模板，描述实例对象的基本结构。一个构造函数，可以生成多个实例对象，这些实例对象都有相同的结构
    + 为了与普通函数区别，构造函数名字的第一个字母通常大写
    + 函数体内部使用了this关键字，代表了所要生成的对象实例
    + 生成对象的时候，必须使用new命令
      + 如果忘了使用new命令，直接调用构造函数会发生什么事？这种情况下，构造函数就变成了普通函数，并不会生成实例对象。而且由于后面会说到的原因，this这时代表全局对象，将造成一些意想不到的结果

+ new 命令
  + 基本用法
    + new命令的作用，就是执行构造函数，返回一个实例对象
      + 为了保证构造函数必须与new命令一起使用，一个解决办法是，构造函数内部使用严格模式，即第一行加上use strict。这样的话，一旦忘了使用new命令，直接调用构造函数就会报错
      + 另一个解决办法，构造函数内部判断是否使用new命令，如果发现没有使用，则直接返回一个实例对象
  + new 命令的原理
    + 使用new命令时，它后面的函数依次执行下面的步骤+
      + 创建一个空对象，作为将要返回的对象实例
      + 将这个空对象的原型，指向构造函数的prototype属性
      + 将这个空对象赋值给函数内部的this关键字
      + 开始执行构造函数内部的代码
    + 如果构造函数内部有return语句，而且return后面跟着一个对象，new命令会返回return语句指定的对象；否则，就会不管return语句，返回this对象
    + 另一方面，如果对普通函数（内部没有this关键字的函数）使用new命令，则会返回一个空对象
  + new.target
    + 函数内部可以使用new.target属性。如果当前函数是new命令调用，new.target指向当前函数，否则为undefined
    + 使用这个属性，可以判断函数调用的时候，是否使用new命令
+ Object.create() 创建实例对象
  + 构造函数作为模板，可以生成实例对象。但是，有时拿不到构造函数，只能拿到一个现有的对象。我们希望以这个现有的对象作为模板，生成新的实例对象，这时就可以使用Object.create()方法