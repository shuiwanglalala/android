# 对象

+ 概述
  + 生成方法
    + 对象是一组“键值对”（key-value）的集合，是一种无序的复合数据集合
  + 键名
    + 对象的所有键名都是字符串（ES6 又引入了 Symbol 值也可以作为键名），所以加不加引号都可以
    + 如果键名是数值，会被自动转为字符串
    + 如果键名不符合标识名的条件（比如第一个字符为数字，或者含有空格或运算符），且也不是数字，则必须加上引号，否则会报错
    + 对象的每一个键名又称为“属性”（property），它的“键值”可以是任何数据类型。如果一个属性的值为函数，通常把这个属性称为“方法”，它可以像函数那样调用
    + 如果属性的值还是一个对象，就形成了链式引用
    + 属性可以动态创建，不必在对象声明时就指定
  + 对象的引用
  + 表达式还是语句？
    + 如果行首是一个大括号，它到底是表达式还是语句？
      + 为了避免这种歧义，JavaScript 引擎的做法是，如果遇到这种情况，无法确定是对象还是代码块，一律解释为代码块
      + 如果要解释为对象，最好在大括号前加上圆括号。因为圆括号的里面，只能是表达式，所以确保大括号只能解释为对象
    + 这种差异在eval语句（作用是对字符串求值）中反映得最明显
+ 属性的操作
  + 属性的读取
    + 使用点运算符
      + 数值键名不能使用点运算符（因为会被当成小数点），只能使用方括号运算符
    + 使用方括号运算符
      + 如果使用方括号运算符，键名必须放在引号里面，否则会被当作变量处理
      + 数字键可以不加引号，因为会自动转成字符串
  + 属性的赋值
    + 点运算符和方括号运算符，不仅可以用来读取值，还可以用来赋值
    + JavaScript 允许属性的“后绑定”，也就是说，你可以在任意时刻新增属性，没必要在定义对象的时候，就定义好属性
  + 属性的查看
    + Object.keys
  + 属性的删除：delete 命令
    + delete命令用于删除对象的属性，删除成功后返回true
    + 删除一个不存在的属性，delete不报错，而且返回true
      + 不能根据delete命令的结果，认定某个属性是存在的
    + 只有一种情况，delete命令会返回false，那就是该属性存在，且不得删除
    + 需要注意的是，delete命令只能删除对象本身的属性，无法删除继承的属性
  + 属性是否存在：in 运算符
    + in运算符用于检查对象是否包含某个属性（注意，检查的是键名，不是键值），如果包含就返回true，否则返回false。它的左边是一个字符串，表示属性名，右边是一个对象
      + in运算符的一个问题是，它不能识别哪些属性是对象自身的，哪些属性是继承的
    + 使用对象的hasOwnProperty方法判断一下，是否为对象自身的属性
  + 属性的遍历：for...in 循环
    + 它遍历的是对象所有可遍历（enumerable）的属性，会跳过不可遍历的属性
    + 它不仅遍历对象自身的属性，还遍历继承的属性
    + 如果继承的属性是可遍历的，那么就会被for...in循环遍历到。但是，一般情况下，都是只想遍历对象自身的属性，所以使用for...in的时候，应该结合使用hasOwnProperty方法，在循环内部判断一下，某个属性是否为对象自身的属性
+ with 语句
  + 操作同一个对象的多个属性时，提供一些书写的方便
  + 如果with区块内部有变量的赋值操作，必须是当前对象已经存在的属性，否则会创造一个当前作用域的全局变量
    + 这是因为with区块没有改变作用域，它的内部依然是当前作用域。这造成了with语句的一个很大的弊病，就是绑定对象不明确
    + 建议不要使用with语句，可以考虑用一个临时变量代替with