# 将简单的数据发送给其他应用

Android 为用户提供了两种在应用之间分享数据的方式

- Android Sharesheet 主要用于将内容发送到应用外部和/或直接发送给其他用户。例如，将网址分享给朋友
- Android intent 解析器最适合将数据传递到明确定义的任务的下一个阶段。例如，从应用中打开 PDF，并让用户挑选他们首选的查看器

## 使用 Android Sharesheet

对于所有类型的分享，创建一个 intent 并将其操作设为 `Intent.ACTION_SEND`。为了显示 Android Sharesheet，您需要调用 `Intent.createChooser()`，并向其传递您的 `Intent` 对象。它会返回您的 intent 的一个版本，该版本将始终显示 Android Sharesheet

### 发送二进制内容

接收应用需要具备相应的权限才能访问 `Uri` 指向的数据。为此，推荐的方法如下

- 将数据存储在您自己的 `ContentProvider` 中，确保其他应用具有访问您的提供程序的相应权限。提供访问权限的首选机制是使用[按 URI 的权限](https://developer.android.com/guide/topics/security/permissions#uri)，这是临时权限，并且仅向接收应用授予访问权限。如需创建这样的 `ContentProvider`，一种简单的方法是使用 `FileProvider` 辅助程序类
- 使用系统 `MediaStore`。`MediaStore` 主要用于存储视频、音频和图片 MIME 类型的数据，不过从 Android 3.0（API 级别 11）开始，它也可以存储非媒体类型的数据（如需了解详情，请参阅 `MediaStore.Files`）。可以使用 `scanFile()` 将文件插入 `MediaStore`，然后将适合分享的 `content://` 样式 `Uri` 传递给提供的 `onScanCompleted()` 回调。请注意，将内容添加到系统 `MediaStore` 后，设备上的任何应用均可访问该内容

### 向文本预览添加丰富的内容

如需预览文本，您可以设置标题和/或缩略图。在调用 `Intent.createChooser()` 之前，先添加 `Intent.EXTRA_TITLE` 的说明。通过 ClipData 添加相关的缩略图

**注意**：图片内容 URI 应该通过 FileProvider（通常来自配置的 ``）提供。请参阅[分享文件](https://developer.android.com/training/secure-file-sharing)。确保授予 Sharesheet 正确的权限，让其能够读取要用作缩略图的任何图片

## 使用 Android intent 解析器



https://github.com/android/storage-samples/tree/main/SharingShortcuts

demo有点没看懂