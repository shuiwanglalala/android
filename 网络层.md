# 网络层

+ ip地址
  + 32位，分为网络id和主机id
  + 分类，依据为前8位的取值
    + A 1-127
    + B 128-191
    + C 192-223
    + D 224-239 组播 没有子网掩码
    + E 240-255 研究
+ 子网掩码
  + ip地址和子网掩码做与运算，得到网络号
  + 划分子网
+ 超网合并网络
    + 判断子网是否能合并
      + 除以4，第一个余0，第二个余1，第三个余2，第四个余3，就可以
  
+ 保留的私有地址 用于内网的服务器地址
  + 10.0.0.0
  + 172.16.0.0-172.31.0.0
  + 192.168.0.0-192.168.255.0

+ 特殊的地址
  + 主机位全0代表本网段
  + 主机位全1代表本网段的所有主机
  + 169.254.0.0 临时地址
  + 127.0.0.1 本地还回地址
  + 0.0.0.0 ip地址冲突
  + 本网广播 255.255.255.255
  + 定向广播 192.168.80.255
  + 组播 多播 224.0.0.0-239.255.255.255

+ 网络层提供两种服务
  + 虚电路服务
  + 数据报服务
    + 无连接的、尽最大努力交付。发送分组时不需要先建立连接。每一个ip数据报独立发送，与其前后的分组无关（不进行编号）
    + 网络层不提供服务质量的承诺，即所传送的分组可能出错、丢失、重复和失序，当然也不保证分组传送的时限

+ 网络互连的设备
  + 物理层中继系统 转发器 集线器
  + 数据链路层中继系统 网桥 桥接器 交换机
  + 网络层中继系统 路由器
  + 网络层以上的中继系统 网关

+ 网络排错
  + 网线
  + ip地址 子网掩码 网关 dns
  + ping 网关
  + ping 公网地址 8.8.8.8
  + ping www.baidu.com
  + telnet www.baidu.com 80 失败 检查服务器是否开机 web服务是否启动 沿途路由器是否禁止了这个端口
  + 浏览器是否设置了代理
+ ARP协议 
  + 通过广播解析本网段计算机的MAC地址
  + arp -a 查看缓存的MAC地址
  + arp -s 10.7.1.2 00-15-5d-3e-92-08 添加静态的MAC地址

+ IP协议  所有选择路由路径的协议
  + RIP
    + 依据跳数 至多16跳 每隔30s广播自己的路由表
  + OSPF
    + 依据带宽 触发式更新 支持多区域
    + 邻居表 链路状态表
  + EIGRP
  + BGP
+ ICMP协议
  + ping
  + pathping
  + tracert

+ IGMP协议
+ 静态路由
+ 路由汇总 其实就是超网合并子网
  + 默认路由，优先级最低，子网掩码为0.0.0.0
  + route print
  + route add  172.3.2.1 mask 255.255.255.0 10.2.3.4
  + 计算机的默认路由就是网关

+ NAT 会影响路由器性能
+ VPN